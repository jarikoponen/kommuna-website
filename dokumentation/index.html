<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Dokumentation för Kommuna - Instruktioner och tekniska krav för att nyttja digitala tjänster">
    <title>Dokumentation - Kommuna</title>

    <!-- Open Graph -->
    <meta property="og:title" content="Dokumentation - Kommuna">
    <meta property="og:description" content="Instruktioner och tekniska krav för att nyttja digitala tjänster">
    <meta property="og:image" content="https://kommuna.se/images/kommuna-og.png">
    <meta property="og:type" content="website">

    <link rel="stylesheet" href="../css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <a href="#main-content" class="skip-link">Hoppa till huvudinnehåll</a>

    <header class="site-header">
        <div class="container">
            <div class="header-content">
                <a href="../" class="logo" aria-label="Kommuna - Till startsidan">
                    <svg class="logo-icon" width="40" height="40" viewBox="0 0 40 40" aria-hidden="true">
                        <circle cx="12" cy="12" r="6" fill="#0066CC"/>
                        <circle cx="28" cy="12" r="6" fill="#0066CC"/>
                        <circle cx="12" cy="28" r="6" fill="#0066CC"/>
                        <circle cx="28" cy="28" r="6" fill="#0066CC"/>
                        <circle cx="20" cy="20" r="4" fill="#00A86B"/>
                        <line x1="12" y1="12" x2="20" y2="20" stroke="#0066CC" stroke-width="2"/>
                        <line x1="28" y1="12" x2="20" y2="20" stroke="#0066CC" stroke-width="2"/>
                        <line x1="12" y1="28" x2="20" y2="20" stroke="#0066CC" stroke-width="2"/>
                        <line x1="28" y1="28" x2="20" y2="20" stroke="#0066CC" stroke-width="2"/>
                    </svg>
                    <span class="logo-text">Kommuna</span>
                </a>

                <button class="menu-toggle" aria-expanded="false" aria-controls="main-nav" aria-label="Öppna meny">
                    <span class="hamburger"></span>
                </button>

                <nav id="main-nav" class="main-nav" aria-label="Huvudnavigering">
                    <ul class="nav-list">
                        <li><a href="../" class="nav-link">Tjänster</a></li>
                        <li><a href="../om-kommuna/" class="nav-link">Om Kommuna</a></li>
                        <li><a href="./" class="nav-link active" aria-current="page">Dokumentation</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <main id="main-content">
        <section class="page-hero">
            <div class="container">
                <h1>Dokumentation</h1>
                <p class="page-intro">
                    Här hittar du instruktioner, tekniska krav och guider för att komma igång
                    med Kommunas digitala tjänster.
                </p>
            </div>
        </section>

        <section class="content-section">
            <div class="container">
                <div class="tabs-container">
                    <div class="tabs" role="tablist" aria-label="Dokumentationsflikar">
                        <button role="tab"
                                aria-selected="true"
                                aria-controls="panel-kom-igang"
                                id="tab-kom-igang"
                                class="tab-btn active"
                                tabindex="0">
                            Kom igång
                        </button>
                        <button role="tab"
                                aria-selected="false"
                                aria-controls="panel-tekniska-krav"
                                id="tab-tekniska-krav"
                                class="tab-btn"
                                tabindex="-1">
                            Tekniska krav
                        </button>
                        <button role="tab"
                                aria-selected="false"
                                aria-controls="panel-sakerhet"
                                id="tab-sakerhet"
                                class="tab-btn"
                                tabindex="-1">
                            Säkerhet
                        </button>
                        <button role="tab"
                                aria-selected="false"
                                aria-controls="panel-api-dokumentation"
                                id="tab-api-dokumentation"
                                class="tab-btn"
                                tabindex="-1">
                            API-dokumentation
                        </button>
                        <button role="tab"
                                aria-selected="false"
                                aria-controls="panel-support"
                                id="tab-support"
                                class="tab-btn"
                                tabindex="-1">
                            Support
                        </button>
                    </div>

                    <div class="tab-panels">
                        <article role="tabpanel"
                                 id="panel-kom-igang"
                                 aria-labelledby="tab-kom-igang"
                                 class="tab-panel active"
                                 tabindex="0">
                            <h2>Kom igång</h2>
                            <p>
                                För att börja använda Kommunas tjänster behöver din kommun genomgå
                                en anslutningsprocess. Här beskriver vi stegen för att komma igång.
                            </p>

                            <div class="steps-container">
                                <div class="step-card">
                                    <div class="step-number" aria-hidden="true">1</div>
                                    <div class="step-content">
                                        <h3>Anslutningsavtal</h3>
                                        <p>
                                            Kontakta Kommunas styrgrupp för att diskutera anslutning. Ett samarbetsavtal
                                            upprättas som reglerar ansvar, kostnader och villkor.
                                        </p>
                                        <div class="step-icon" aria-hidden="true">
                                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                                <polyline points="14 2 14 8 20 8"/>
                                                <line x1="16" y1="13" x2="8" y2="13"/>
                                                <line x1="16" y1="17" x2="8" y2="17"/>
                                            </svg>
                                        </div>
                                    </div>
                                </div>

                                <div class="step-card">
                                    <div class="step-number" aria-hidden="true">2</div>
                                    <div class="step-content">
                                        <h3>Teknisk inventering</h3>
                                        <p>
                                            En teknisk genomgång görs av kommunens befintliga IT-miljö för att
                                            identifiera integrationspunkter och eventuella anpassningsbehov.
                                        </p>
                                        <div class="step-icon" aria-hidden="true">
                                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <circle cx="11" cy="11" r="8"/>
                                                <line x1="21" y1="21" x2="16.65" y2="16.65"/>
                                            </svg>
                                        </div>
                                    </div>
                                </div>

                                <div class="step-card">
                                    <div class="step-number" aria-hidden="true">3</div>
                                    <div class="step-content">
                                        <h3>Konfiguration</h3>
                                        <p>
                                            Kommunens miljö konfigureras för anslutning till Kommunas plattform:
                                        </p>
                                        <ul>
                                            <li>Uppsättning av nätverksförbindelser (VPN eller dedikerad länk)</li>
                                            <li>Konfiguration av identitetshantering (federation mot Azure AD eller ADFS)</li>
                                            <li>Installation av eventuella lokala komponenter</li>
                                            <li>Test och verifiering av anslutningen</li>
                                        </ul>
                                        <div class="step-icon" aria-hidden="true">
                                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <circle cx="12" cy="12" r="3"/>
                                                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                                            </svg>
                                        </div>
                                    </div>
                                </div>

                                <div class="step-card">
                                    <div class="step-number" aria-hidden="true">4</div>
                                    <div class="step-content">
                                        <h3>Utbildning</h3>
                                        <p>
                                            IT-personal och slutanvändare får utbildning i de tjänster som ska användas.
                                            Utbildningsmaterial finns tillgängligt digitalt.
                                        </p>
                                        <div class="step-icon" aria-hidden="true">
                                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                                                <circle cx="9" cy="7" r="4"/>
                                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                                                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                                            </svg>
                                        </div>
                                    </div>
                                </div>

                                <div class="step-card">
                                    <div class="step-number" aria-hidden="true">5</div>
                                    <div class="step-content">
                                        <h3>Driftsättning</h3>
                                        <p>
                                            Tjänsterna aktiveras och kommunen börjar använda Kommunas plattform.
                                            Löpande support finns tillgänglig.
                                        </p>
                                        <div class="step-icon" aria-hidden="true">
                                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                                                <polyline points="22 4 12 14.01 9 11.01"/>
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>

                        <article role="tabpanel"
                                 id="panel-tekniska-krav"
                                 aria-labelledby="tab-tekniska-krav"
                                 class="tab-panel"
                                 tabindex="0"
                                 hidden>
                            <h2>Tekniska krav</h2>

                            <h3>1. Inledning</h3>
                            <p>
                                För att använda de digitala tjänster och AI-tjänster som finns inom Kommuna behöver kommunen kunna ansluta till dessa genom federativ inloggning. Den standard som används för autentisering inom Kommuna är OpenID Connect (OIDC). I denna dokumentation beskrivs de krav som finns för anslutning på en generell nivå. En enskild digital tjänst kan ha särskilda krav, men uppfylls de som beskrivs här är det generellt inga problem att använda alla tjänster inom Kommuna.
                            </p>

                            <h3>2. Översikt av federativ inloggning</h3>
                            <h4>2.1 Grundprinciper</h4>
                            <p>Den federativa inloggningsmodellen bygger på följande principer:</p>
                            <ul>
                                <li>Varje kommun styr självständigt vilka autentiseringsmetoder som ska gälla för sina medarbetare.</li>
                                <li>De delade tjänsterna inom Kommuna lagrar inga lösenord eller autentiseringsuppgifter.</li>
                                <li>Användare autentiseras alltid via sin hemkommuns identitetstjänst.</li>
                                <li>OIDC används som standardprotokoll för all federativ kommunikation.</li>
                            </ul>

                            <h4>2.2 Rollfördelning</h4>
                            <p>Integrationen bygger på den standardiserade rollfördelningen inom OIDC-ekosystemet:</p>
                            <div class="requirements-table">
                                <table>
                                    <thead>
                                        <tr>
                                            <th scope="col">Roll</th>
                                            <th scope="col">OIDC-terminologi</th>
                                            <th scope="col">Aktör</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Tjänsteleverantör</td>
                                            <td>Relying Party (RP)</td>
                                            <td>Tjänster inom Kommuna</td>
                                        </tr>
                                        <tr>
                                            <td>Identitetsleverantör</td>
                                            <td>OpenID Provider (OP)</td>
                                            <td>Respektive kommun</td>
                                        </tr>
                                        <tr>
                                            <td>Slutanvändare</td>
                                            <td>End-User</td>
                                            <td>Kommunens medarbetare</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h3>3. Krav på anslutande kommun</h3>
                            <h4>3.1 Rollen som OpenID Provider</h4>
                            <p>För att ansluta till tjänster inom Kommuna krävs att kommunen agerar som OpenID Provider (OP) i OIDC-federationen. Detta innebär att kommunen ansvarar för:</p>
                            <ul>
                                <li>Autentisering av sina medarbetare enligt kommunens egen säkerhetspolicy.</li>
                                <li>Utfärdande av ID-tokens och access tokens till tjänsterna (Relying Party).</li>
                                <li>Tillhandahållande av användarinformation (claims) enligt överenskommet format.</li>
                                <li>Val och konfiguration av autentiseringsmetoder (t.ex. lösenord, MFA, e-legitimation).</li>
                            </ul>

                            <h4>3.2 Befintliga plattformar med OIDC-stöd</h4>
                            <p>De flesta kommuner har redan infrastruktur på plats som kan agera OpenID Provider. Vanligt förekommande plattformar inom kommunal sektor inkluderar:</p>
                            <div class="requirements-table">
                                <table>
                                    <thead>
                                        <tr>
                                            <th scope="col">Plattform</th>
                                            <th scope="col">Kommentar</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Microsoft Entra ID</td>
                                            <td>Tidigare Azure AD. Inbyggt OIDC-stöd. Vanlig i Microsoft 365-miljöer.</td>
                                        </tr>
                                        <tr>
                                            <td>Nexus HAG</td>
                                            <td>Hybrid Access Gateway. Stödjer OIDC, SAML och andra federationsprotokoll.</td>
                                        </tr>
                                        <tr>
                                            <td>MobilityGuard OneGate</td>
                                            <td>IAM-plattform med fullt OIDC-stöd. Vanlig inom offentlig sektor.</td>
                                        </tr>
                                        <tr>
                                            <td>Keycloak</td>
                                            <td>Open source IAM-lösning med komplett OIDC-implementation.</td>
                                        </tr>
                                        <tr>
                                            <td>ADFS</td>
                                            <td>Active Directory Federation Services. Stödjer OIDC från version 2016.</td>
                                        </tr>
                                        <tr>
                                            <td>PhenixID</td>
                                            <td>Svensk IAM-lösning med OIDC-stöd. Används av flera kommuner.</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <p>
                                <strong>Rekommendation:</strong> Kontakta er IT-avdelning eller IAM-ansvarig för att identifiera vilken plattform som redan finns på plats och kan konfigureras för anslutning till Kommuna. I de flesta fall krävs endast en klientregistrering i befintlig infrastruktur.
                            </p>

                            <h3>4. Tekniska krav på OpenID Provider</h3>
                            <h4>4.1 Protokollkrav</h4>
                            <p>Kommunens OpenID Provider (OP) ska uppfylla följande krav:</p>
                            <ul>
                                <li>Stödja OpenID Connect Core 1.0-specifikationen.</li>
                                <li>Implementera Authorization Code Flow med PKCE (Proof Key for Code Exchange).</li>
                                <li>Tillhandahålla en publik Discovery-endpoint (/.well-known/openid-configuration).</li>
                                <li>Stödja HTTPS med giltigt TLS-certifikat (minst TLS 1.2).</li>
                                <li>Signera ID-tokens med RS256 eller ES256.</li>
                            </ul>

                            <h4>4.2 Obligatoriska endpoints</h4>
                            <p>Följande endpoints ska exponeras av kommunens OpenID Provider:</p>
                            <div class="requirements-table">
                                <table>
                                    <thead>
                                        <tr>
                                            <th scope="col">Endpoint</th>
                                            <th scope="col">Beskrivning</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Authorization Endpoint</td>
                                            <td>Initierar autentiseringsflödet och returnerar authorization code.</td>
                                        </tr>
                                        <tr>
                                            <td>Token Endpoint</td>
                                            <td>Utbyter authorization code mot access token och ID token.</td>
                                        </tr>
                                        <tr>
                                            <td>UserInfo Endpoint</td>
                                            <td>Returnerar claims om den autentiserade användaren.</td>
                                        </tr>
                                        <tr>
                                            <td>JWKS Endpoint</td>
                                            <td>Tillhandahåller publika nycklar för verifiering av signerade tokens.</td>
                                        </tr>
                                        <tr>
                                            <td>End Session Endpoint</td>
                                            <td>Hanterar utloggning och sessionsterminering (rekommenderas).</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h4>4.3 Obligatoriska claims</h4>
                            <p>ID-token ska innehålla följande claims för korrekt identifiering av användaren:</p>
                            <div class="requirements-table">
                                <table>
                                    <thead>
                                        <tr>
                                            <th scope="col">Claim</th>
                                            <th scope="col">Typ</th>
                                            <th scope="col">Beskrivning</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>sub</td>
                                            <td>Obligatorisk</td>
                                            <td>Unikt och beständigt användar-ID.</td>
                                        </tr>
                                        <tr>
                                            <td>email</td>
                                            <td>Obligatorisk</td>
                                            <td>Användarens e-postadress.</td>
                                        </tr>
                                        <tr>
                                            <td>name</td>
                                            <td>Rekommenderad</td>
                                            <td>Fullständigt namn för visning i gränssnittet.</td>
                                        </tr>
                                        <tr>
                                            <td>given_name</td>
                                            <td>Valfri</td>
                                            <td>Förnamn.</td>
                                        </tr>
                                        <tr>
                                            <td>family_name</td>
                                            <td>Valfri</td>
                                            <td>Efternamn.</td>
                                        </tr>
                                        <tr>
                                            <td>groups</td>
                                            <td>Valfri</td>
                                            <td>Gruppmedlemskap för behörighetsstyrning.</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h4>4.4 Obligatoriska scopes</h4>
                            <p>Tjänsterna inom Kommuna kommer att begära följande scopes vid autentisering:</p>
                            <ul>
                                <li><strong>openid</strong> – Obligatoriskt för OIDC-flödet.</li>
                                <li><strong>profile</strong> – För att erhålla namn och profilinformation.</li>
                                <li><strong>email</strong> – För att erhålla e-postadress.</li>
                            </ul>

                            <h3>5. Klientregistrering</h3>
                            <p>Följande uppgifter behöver utbytas vid registrering:</p>
                            <h4>5.1 Från kommunen till Kommuna</h4>
                            <ul>
                                <li>URL till Discovery-endpoint (/.well-known/openid-configuration).</li>
                                <li>Alternativt: Issuer URL om Discovery stöds.</li>
                                <li>Eventuella specifika konfigurationskrav.</li>
                            </ul>
                            <h4>5.2 Från Kommuna till kommunen</h4>
                            <ul>
                                <li><strong>Client ID</strong> – Unik identifierare för tjänsten som klient.</li>
                                <li><strong>Client Secret</strong> – Hemlighet för autentisering av klienten (om applicable).</li>
                                <li><strong>Redirect URI</strong> – URL dit användaren omdirigeras efter autentisering.</li>
                                <li><strong>Post-logout Redirect URI</strong> – URL för omdirigering efter utloggning.</li>
                            </ul>

                            <h3>6. Autentiseringsflöde</h3>
                            <p>Tjänsterna inom Kommuna använder Authorization Code Flow med PKCE enligt följande steg:</p>
                            <ol>
                                <li>Användaren initierar inloggning i tjänsten.</li>
                                <li>Tjänsten (Relying Party) omdirigerar till kommunens OpenID Provider.</li>
                                <li>Användaren autentiserar sig enligt kommunens policy.</li>
                                <li>OpenID Provider returnerar en authorization code till tjänsten.</li>
                                <li>Tjänsten utbyter authorization code mot tokens via Token Endpoint.</li>
                                <li>Tjänsten validerar ID-token och extraherar användarinformation.</li>
                                <li>Användaren får tillgång till tjänsten.</li>
                            </ol>

                            <h3>7. Säkerhetskrav</h3>
                            <ul>
                                <li>Alla kommunikationskanaler ska använda HTTPS med TLS 1.2 eller högre.</li>
                                <li>ID-tokens ska signeras med asymmetrisk kryptering (RS256 eller ES256).</li>
                                <li>Access tokens bör ha en begränsad livslängd (rekommenderat: 1 timme).</li>
                                <li>Refresh tokens ska stödjas för att upprätthålla sessioner utan ny inloggning.</li>
                                <li>PKCE ska användas för att skydda mot authorization code interception.</li>
                                <li>State-parameter ska valideras för att förhindra CSRF-attacker.</li>
                            </ul>
                        </article>

                        <article role="tabpanel"
                                 id="panel-sakerhet"
                                 aria-labelledby="tab-sakerhet"
                                 class="tab-panel"
                                 tabindex="0"
                                 hidden>
                            <h2>Säkerhet</h2>
                            <p>
                                Säkerhet är en grundpelare i Kommunas arkitektur. Här beskrivs de
                                säkerhetsåtgärder som tillämpas.
                            </p>

                            <h3>Dataskydd</h3>
                            <ul>
                                <li>All data krypteras i transit (TLS 1.3) och i vila (AES-256)</li>
                                <li>Personuppgifter hanteras enligt GDPR</li>
                                <li>Data lagras inom EU (Sverige när möjligt)</li>
                                <li>Regelbundna säkerhetskopior med geografisk redundans</li>
                            </ul>

                            <h3>Åtkomstkontroll</h3>
                            <ul>
                                <li>Rollbaserad åtkomstkontroll (RBAC)</li>
                                <li>Multifaktorautentisering (MFA) för administrativa funktioner</li>
                                <li>Principen om minsta behörighet tillämpas</li>
                                <li>Automatisk utloggning efter inaktivitet</li>
                            </ul>

                            <h3>Övervakning och loggning</h3>
                            <ul>
                                <li>Centraliserad logghantering med 12 månaders retention</li>
                                <li>Realtidsövervakning av säkerhetshändelser</li>
                                <li>Automatiska varningar vid avvikande beteende</li>
                                <li>Regelbundna säkerhetsgranskningar och penetrationstester</li>
                            </ul>

                            <h3>Incidenthantering</h3>
                            <p>
                                Kommuna har etablerade rutiner för incidenthantering med definierade
                                SLA:er för responstid och eskalering. Vid säkerhetsincidenter
                                kontaktas berörda kommuner omedelbart.
                            </p>
                        </article>

                        <article role="tabpanel"
                                 id="panel-api-dokumentation"
                                 aria-labelledby="tab-api-dokumentation"
                                 class="tab-panel"
                                 tabindex="0"
                                 hidden>
                            <h2>API-dokumentation</h2>
                            <p>
                                Kommunas tjänster exponeras via moderna RESTful API:er. Här beskrivs
                                grunderna för att integrera mot plattformen.
                            </p>

                            <h3>Autentisering</h3>
                            <p>
                                Alla API-anrop kräver autentisering via OAuth 2.0 eller API-nycklar.
                            </p>
                            <pre class="code-block"><code>Authorization: Bearer &lt;access_token&gt;</code></pre>

                            <h3>Bas-URL</h3>
                            <pre class="code-block"><code>https://api.kommuna.se/v1/</code></pre>

                            <h3>Vanliga endpoints</h3>
                            <div class="api-endpoints">
                                <div class="endpoint">
                                    <span class="method get">GET</span>
                                    <code>/services</code>
                                    <p>Lista alla tillgängliga tjänster</p>
                                </div>
                                <div class="endpoint">
                                    <span class="method get">GET</span>
                                    <code>/services/{id}</code>
                                    <p>Hämta information om en specifik tjänst</p>
                                </div>
                                <div class="endpoint">
                                    <span class="method post">POST</span>
                                    <code>/ai/analyze</code>
                                    <p>Skicka data för AI-analys</p>
                                </div>
                                <div class="endpoint">
                                    <span class="method get">GET</span>
                                    <code>/integrations/status</code>
                                    <p>Kontrollera status för integrationer</p>
                                </div>
                            </div>

                            <h3>Felhantering</h3>
                            <p>
                                API:et returnerar standardiserade felmeddelanden i JSON-format:
                            </p>
                            <pre class="code-block"><code>{
  "error": {
    "code": "UNAUTHORIZED",
    "message": "Ogiltig eller utgången token",
    "details": "Förnya din access token och försök igen"
  }
}</code></pre>

                            <h3>Rate limiting</h3>
                            <p>
                                API-anrop begränsas till 1000 förfrågningar per minut per kommun.
                                Headers indikerar kvarvarande kvot:
                            </p>
                            <pre class="code-block"><code>X-RateLimit-Limit: 1000
X-RateLimit-Remaining: 985
X-RateLimit-Reset: 1640000000</code></pre>
                        </article>

                        <article role="tabpanel"
                                 id="panel-support"
                                 aria-labelledby="tab-support"
                                 class="tab-panel"
                                 tabindex="0"
                                 hidden>
                            <h2>Support</h2>
                            <p>
                                Kommuna erbjuder support för alla anslutna kommuner.
                            </p>

                            <h3>Supportnivåer</h3>
                            <div class="support-levels">
                                <div class="support-card">
                                    <h4>Nivå 1 - Användarsupport</h4>
                                    <p>Hjälp med grundläggande frågor och felsökning.</p>
                                    <ul>
                                        <li>E-post: <a href="mailto:support@kommuna.se">support@kommuna.se</a></li>
                                        <li>Telefon: 060-XX XX XX</li>
                                        <li>Öppettider: Vardagar 08:00-17:00</li>
                                    </ul>
                                </div>
                                <div class="support-card">
                                    <h4>Nivå 2 - Teknisk support</h4>
                                    <p>Avancerad felsökning och integrationsstöd.</p>
                                    <ul>
                                        <li>E-post: <a href="mailto:teknik@kommuna.se">teknik@kommuna.se</a></li>
                                        <li>Ärendehanteringssystem för spårning</li>
                                        <li>Responstid: Inom 4 arbetstimmar</li>
                                    </ul>
                                </div>
                                <div class="support-card">
                                    <h4>Nivå 3 - Akut support</h4>
                                    <p>Kritiska driftstörningar som påverkar verksamheten.</p>
                                    <ul>
                                        <li>Jourtelefon: 070-XXX XX XX</li>
                                        <li>Tillgänglig dygnet runt</li>
                                        <li>Responstid: Inom 30 minuter</li>
                                    </ul>
                                </div>
                            </div>

                            <h3>Självservice</h3>
                            <p>
                                Många frågor kan besvaras genom våra självserviceresurser:
                            </p>
                            <ul>
                                <li>Kunskapsdatabas med vanliga frågor och svar</li>
                                <li>Videoguider för vanliga uppgifter</li>
                                <li>Statuspage för realtidsinformation om tjänsternas tillgänglighet</li>
                            </ul>
                        </article>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Kommuna</h3>
                    <p>Ett samarbete mellan Sundsvall, Nordanstig, Hudiksvall, Ljusdal och Ånge kommuner.</p>
                </div>
                <div class="footer-section">
                    <h3>Länkar</h3>
                    <ul>
                        <li><a href="../">Tjänster</a></li>
                        <li><a href="../om-kommuna/">Om Kommuna</a></li>
                        <li><a href="./">Dokumentation</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Kontakt</h3>
                    <p>E-post: <a href="mailto:digitalisering@sundsvall.se">digitalisering@sundsvall.se</a></p>
                </div>
            </div>
        </div>
    </footer>

    <script src="../js/main.js"></script>
</body>
</html>
